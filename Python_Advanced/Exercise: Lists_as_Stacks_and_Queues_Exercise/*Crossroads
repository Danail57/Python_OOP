from collections import deque


green_light_duration = int(input())
free_window_duration = int(input())
crossroad = deque()
crash = False
total_cars = 0

command = input().strip()

while command != 'End':
    if command != 'green':
        crossroad.append(command)
    else:
        time = green_light_duration

        while crossroad and time > 0:
            car = crossroad.popleft()
            car_length = len(car)

            if car_length <= time:
                time -= car_length
                total_cars += 1
            
            elif time + free_window_duration >= car_length:
                total_cars += 1
                time = 0
            
            else:
                hit_index = time + free_window_duration
                if hit_index >= len(car):
                    # hit_index = len(car) - 1
                print("A crash happened!")
                print(f"{car} was hit at {car[hit_index]}.")
                crash = True
                break
        if crash:
            break
    command = input().strip()

if not crash:
    print("Everyone is safe.")
    print(f"{total_cars} total cars passed the crossroads.")
